<!-- <div class="main-content">
  <h3>PRODUCT MANAGEMENT</h3>
  <br />
  <h4>Total Product (150) | Showing 5/150</h4>
  <div class="actions"> -->
<!-- button filter -->
<!-- <button class="filter-button">
      <img src="images/order/Filter.svg" alt="Filter icon" />
      <span class="filter-text">Filter by</span>
    </button>
    <div class="right-button"> -->
<!--button Add Product -->
<!-- <div class="addproduct-button">
        <img src="images/product/add.png" alt="Add" />
        <span>Add product</span>
      </div> -->
<!-- button export -->
<!-- <button class="export-button">
        <img
          src="images/product/export.svg"
          alt="Export icon"
          class="export-icon"
        />
        <span class="export-text">Exports</span>
        <img
          src="images/product/arrow.svg"
          alt="Dropdown arrow"
          class="dropdown-icon"
        />
      </button>
    </div>
  </div>

  <div class="table-container">
    <table class="product-table">
      <thead>
        <tr>
          <th>No</th>
          <th>Image</th>
          <th>Product Name</th>
          <th>Price</th>
          <th>Category</th>
          <th>Inventory</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ product.image }}</td>
          <td>{{ product.name }}</td>
          <td>{{ product.price }}</td>
          <td>{{ product.category }}</td>
          <td>{{ product.quantity }}</td>
          <td>
            <button class="icon-btn">
              <img
                src="images/product/view.svg"
                alt="viewicon"
                style="border: black"
              />
            </button>
            <button class="icon-btn">
              <img src="images/product/edit.svg" alt="editicon" />
            </button>
            <button class="icon-btn">
              <img src="images/product/trash.svg" alt="trashicon" />
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div> -->
<!-- Showing -->
<!-- <div class="show">Showing 5/150 of all results</div>
  <div class="pagination">
    <button class="prev-btn">&lt;</button>
    <span class="page-number">1</span>
    <span class="page-number">2</span>
    <span class="page-number">3</span>
    <button class="next-btn">&gt;</button>
  </div>
</div> -->
<!-- --------------------- -->

<div class="main-content">
  <h3>PRODUCT MANAGEMENT</h3>
  <br />
  <h4>
    Total Product ({{ totalItems }}) | Showing {{ filteredProducts.length }}/{{
      totalItems
    }}
  </h4>
  <div class="actions">
    <!-- button filter -->
    <button class="filter-button" (click)="filterProducts()">
      <img src="images/order/Filter.svg" alt="Filter icon" />
      <span class="filter-text">Filter by</span>
    </button>
    <div class="right-button">
      <!--button Add Product -->
      <div class="addproduct-button"(click)="addProduct()">
        <img src="images/product/add.png" alt="Add" />
        <span>Add product</span>
      </div>
      <!-- button export -->
      <button class="export-button">
        <img
          src="images/product/export.svg"
          alt="Export icon"
          class="export-icon"
        />
        <span class="export-text">Exports</span>
        <img
          src="images/product/arrow.svg"
          alt="Dropdown arrow"
          class="dropdown-icon"
        />
      </button>
    </div>
  </div>

  <!-- Hiển thị lỗi nếu có -->
  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>

  <div class="table-container">
    <table class="product-table">
      <thead>
        <tr>
          <th>No</th>
          <th>Image</th>
          <th>Product Name</th>
          <th>Price</th>
          <th>Category</th>
          <th>Inventory</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of filteredProducts; let i = index">
          <td>{{ (currentPage - 1) * itemsPerPage + i + 1 }}</td>
          <td>
            <!-- Hiển thị hình ảnh đầu tiên nếu có -->
            <img
              *ngIf="product.Image && product.Image.length > 0"
              [src]="product.Image[0]"
              alt="{{ product.Name }}"
              width="50"
            />
            <span *ngIf="!product.Image || product.Image.length === 0">{{
              product._id
            }}</span>
          </td>
          <td>{{ product.Name }}</td>
          <td>{{ product.Price }}</td>
          <td>{{ product.category_name || "N/A" }}</td>
          <td>{{ product.Quantity }}</td>
          <td>
            <button class="icon-btn" (click)="viewProduct(product)">
              <img
                src="images/product/view.svg" (click)="viewProduct(product)"
                alt="viewicon"
                style="border: black"
              />
            </button>
            <button class="icon-btn" (click)="editProduct(product)">
              <img src="images/product/edit.svg" alt="editicon" />
            </button>
            <button class="icon-btn" (click)="deleteProduct(product._id || '')">
              <img src="images/product/trash.svg" alt="trashicon" />
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- Showing -->
  <div class="show">
    Showing {{ filteredProducts.length }}/{{ totalItems }} of all results
  </div>
  <div class="pagination">
    <button class="prev-btn" (click)="prevPage()"><</button>
    <span
      *ngFor="let page of pageNumbers"
      class="page-number"
      [class.active]="page === currentPage"
      (click)="goToPage(page)"
      >{{ page }}</span
    >
    <button class="next-btn" (click)="nextPage()">></button>
  </div>
</div>
